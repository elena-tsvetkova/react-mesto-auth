{"ast":null,"code":"var _s = $RefreshSig$();\n\n// Пользовательский Хук для сбора информации инпутов, и валидации формы\nimport React, { useCallback } from \"react\";\nexport const useFormWithValidation = () => {\n  _s();\n\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n  const [isValidInputs, setIsValidInputs] = React.useState({});\n\n  const handleChange = evt => {\n    const input = evt.target;\n    const value = input.value;\n    const name = input.name;\n    setValues({ ...values,\n      [name]: value\n    });\n    setErrors({ ...errors,\n      [name]: input.validationMessage\n    });\n    setIsValid(input.closest(\"form\").checkValidity());\n    setIsValidInputs({ ...isValidInputs,\n      [name]: input.checkValidity()\n    });\n  };\n\n  const resetFrom = useCallback(function () {\n    let newValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let newErrors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let newIsValid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let newIsValidInputs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsValid(newIsValid);\n    setIsValidInputs(newIsValidInputs);\n  }, [setValues, setErrors, setIsValid]);\n  return {\n    values,\n    handleChange,\n    resetFrom,\n    errors,\n    isValid,\n    isValidInputs\n  };\n};\n\n_s(useFormWithValidation, \"Sty/s37n65Q0uYjLd9b3pyfeYhY=\");","map":{"version":3,"names":["React","useCallback","useFormWithValidation","values","setValues","useState","errors","setErrors","isValid","setIsValid","isValidInputs","setIsValidInputs","handleChange","evt","input","target","value","name","validationMessage","closest","checkValidity","resetFrom","newValues","newErrors","newIsValid","newIsValidInputs"],"sources":["/home/user/dev/mesto-react/src/hooks/useFormWithValidation.js"],"sourcesContent":["// Пользовательский Хук для сбора информации инпутов, и валидации формы\nimport React, { useCallback } from \"react\";\n\nexport const useFormWithValidation = () => {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const [isValidInputs, setIsValidInputs] = React.useState({});\n\n  const handleChange = (evt) => {\n    const input = evt.target;\n    const value = input.value;\n    const name = input.name;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: input.validationMessage });\n    setIsValid(input.closest(\"form\").checkValidity());\n\n    setIsValidInputs({ ...isValidInputs, [name]: input.checkValidity() });\n  };\n\n  const resetFrom = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false, newIsValidInputs = {}) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n      setIsValidInputs(newIsValidInputs);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, resetFrom, errors, isValid, isValidInputs };\n}"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AAEA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;EAAA;;EACzC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAA5B;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA5B;EACA,MAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBT,KAAK,CAACK,QAAN,CAAe,KAAf,CAA9B;EAEA,MAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoCX,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1C;;EAEA,MAAMO,YAAY,GAAIC,GAAD,IAAS;IAC5B,MAAMC,KAAK,GAAGD,GAAG,CAACE,MAAlB;IACA,MAAMC,KAAK,GAAGF,KAAK,CAACE,KAApB;IACA,MAAMC,IAAI,GAAGH,KAAK,CAACG,IAAnB;IACAb,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAa,CAACc,IAAD,GAAQD;IAArB,CAAD,CAAT;IACAT,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAa,CAACW,IAAD,GAAQH,KAAK,CAACI;IAA3B,CAAD,CAAT;IACAT,UAAU,CAACK,KAAK,CAACK,OAAN,CAAc,MAAd,EAAsBC,aAAtB,EAAD,CAAV;IAEAT,gBAAgB,CAAC,EAAE,GAAGD,aAAL;MAAoB,CAACO,IAAD,GAAQH,KAAK,CAACM,aAAN;IAA5B,CAAD,CAAhB;EACD,CATD;;EAWA,MAAMC,SAAS,GAAGpB,WAAW,CAC3B,YAA+E;IAAA,IAA9EqB,SAA8E,uEAAlE,EAAkE;IAAA,IAA9DC,SAA8D,uEAAlD,EAAkD;IAAA,IAA9CC,UAA8C,uEAAjC,KAAiC;IAAA,IAA1BC,gBAA0B,uEAAP,EAAO;IAC7ErB,SAAS,CAACkB,SAAD,CAAT;IACAf,SAAS,CAACgB,SAAD,CAAT;IACAd,UAAU,CAACe,UAAD,CAAV;IACAb,gBAAgB,CAACc,gBAAD,CAAhB;EACD,CAN0B,EAO3B,CAACrB,SAAD,EAAYG,SAAZ,EAAuBE,UAAvB,CAP2B,CAA7B;EAUA,OAAO;IAAEN,MAAF;IAAUS,YAAV;IAAwBS,SAAxB;IAAmCf,MAAnC;IAA2CE,OAA3C;IAAoDE;EAApD,CAAP;AACD,CA7BM;;GAAMR,qB"},"metadata":{},"sourceType":"module"}