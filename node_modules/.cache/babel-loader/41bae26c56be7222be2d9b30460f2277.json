{"ast":null,"code":"var _jsxFileName = \"/home/user/dev/mesto-react/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport * as auth from '../utils/auth';\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const history = useNavigate();\n  const initialData = {\n    email: ''\n  };\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false\n  });\n  const [currentUser, setCurrentUser] = useState({\n    'name': 'Жак',\n    'about': 'test',\n    'avatar': 'http://ya.ru'\n  });\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isAuthChecking, setIsAuthChecking] = useState(true);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [data, setData] = useState(initialData);\n\n  const closePopup = () => {\n    setIsInfoTooltipPopupOpen(false);\n  };\n\n  useEffect(() => {\n    api.getAllNeededData().then(_ref => {\n      let [cards, userData] = _ref;\n      setCurrentUser(userData);\n      setCards(cards);\n    }).catch(err => console.log(err));\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(data) {\n    setSelectedCard({\n      isOpen: true,\n      ...data\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isOpen: false\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (isLiked) {\n      api.dislike(card._id).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      });\n    } else {\n      api.like(card._id).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      });\n    }\n  }\n\n  const handleUpdateUser = data => {\n    return api.setUserInfoApi(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n      return res;\n    }).catch(err => console.log(err));\n  };\n\n  const handleUpdateAvatar = data => {\n    return api.updateAvatar(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n      return res;\n    }).catch(err => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = _ref2 => {\n    let {\n      name,\n      link\n    } = _ref2;\n    return api.addCard({\n      name,\n      link\n    }).then(res => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n      return res;\n    }).catch(err => console.log(err));\n  };\n\n  const handleCardDelete = useCardId => {\n    return api.deleteCard(useCardId).then(res => {\n      setCards(state => state.filter(item => item._id === useCardId ? null : item));\n      return res;\n    }).catch(err => console.log(err));\n  };\n\n  const handleRegister = _ref3 => {\n    let {\n      password,\n      email\n    } = _ref3;\n    return auth.register({\n      password,\n      email\n    }).then(res => {\n      if (!res || res.statusCode === 400) throw new Error(`Ошибка: ${res.message}`);\n      setIsInfoTooltipPopupOpen(true);\n      setIsSuccess(true);\n      history.push('/sign-in');\n      return res;\n    }).catch(err => {\n      setIsInfoTooltipPopupOpen(true);\n      setIsSuccess(false);\n      return err;\n    });\n  };\n\n  const tokenCheck = useCallback(() => {\n    const jwt = localStorage.getItem('jwt');\n\n    if (jwt) {\n      setIsAuthChecking(true);\n      auth.getContent(jwt).then(res => {\n        if (res) {\n          setLoggedIn(true);\n          setData({\n            email: res.data.email\n          });\n          history.push('/mesto');\n        }\n      }).catch(() => history.push('/sign-in')).finally(() => setIsAuthChecking(false));\n    } else {\n      setIsAuthChecking(false);\n    }\n  }, [history]);\n  useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck]);\n\n  const handleLogin = _ref4 => {\n    let {\n      password,\n      email\n    } = _ref4;\n    return auth.authorize({\n      password,\n      email\n    }).then(res => {\n      if (!res || res.statusCode === 400 || res.statusCode === 401) throw new Error(`Ошибка: ${res.message}`);\n\n      if (res.token) {\n        setIsInfoTooltipPopupOpen(true);\n        setIsSuccess(true);\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n      }\n    }).then(tokenCheck).catch(err => {\n      setIsInfoTooltipPopupOpen(true);\n      setIsSuccess(false);\n      return err;\n    });\n  };\n\n  const handleSignOut = () => {\n    localStorage.removeItem('jwt');\n    setData(initialData);\n    setLoggedIn(false);\n    history.push('/sign-in');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUser,\n      children: [/*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/mesto\",\n          loggedIn: loggedIn,\n          isChecking: isAuthChecking,\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Main, {\n            onEditProfile: handleEditProfileClick,\n            onAddPlace: handleAddPlaceClick,\n            onEditAvatar: handleEditAvatarClick,\n            onCardClick: handleCardClick,\n            cards: cards,\n            onCardDelete: handleCardDelete,\n            onCardLike: handleCardLike\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Register, {\n            onRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          children: loggedIn ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/mesto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        isOpen: isEditProfilePopupOpen,\n        onClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        isOpen: isAddPlacePopupOpen,\n        onClose: closeAllPopups,\n        onAddPlace: handleAddPlaceSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        name: \"delete\",\n        title: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",\n        popupClass: \"popup-delete__card\",\n        buttonCloseClass: \"close-delete\",\n        buttonSubmitClass: \"popup-delete__button\",\n        buttonSubmitText: \"\\u0414\\u0430\",\n        isOpen: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        isOpen: isEditAvatarPopupOpen,\n        onClose: closeAllPopups,\n        onUpdateAvatar: handleUpdateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        card: selectedCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: isInfoTooltipPopupOpen,\n        onClose: closePopup,\n        isSuccess: isSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"oji7QQuensv6dtm0KdLHvaukFxg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Route","Routes","Navigate","useNavigate","Header","Footer","Main","PopupWithForm","ImagePopup","auth","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ProtectedRoute","Login","Register","InfoTooltip","App","history","initialData","email","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isOpen","currentUser","setCurrentUser","cards","setCards","loggedIn","setLoggedIn","isAuthChecking","setIsAuthChecking","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isSuccess","setIsSuccess","data","setData","closePopup","getAllNeededData","then","userData","catch","err","console","log","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","closeAllPopups","handleCardLike","card","isLiked","likes","some","i","_id","dislike","newCard","state","map","c","like","handleUpdateUser","setUserInfoApi","res","handleUpdateAvatar","updateAvatar","handleAddPlaceSubmit","name","link","addCard","handleCardDelete","useCardId","deleteCard","filter","item","handleRegister","password","register","statusCode","Error","message","push","tokenCheck","jwt","localStorage","getItem","getContent","finally","handleLogin","authorize","token","setItem","handleSignOut","removeItem"],"sources":["/home/user/dev/mesto-react/src/components/App.js"],"sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\nimport {Route, Routes, Navigate, useNavigate} from 'react-router-dom';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport * as auth from '../utils/auth';\nimport api from \"../utils/api\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\n\n\nfunction App() {\n    const history = useNavigate();\n    const initialData = {\n        email: ''\n    }\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({isOpen: false});\n    const [currentUser, setCurrentUser] = useState({'name': 'Жак', 'about': 'test', 'avatar': 'http://ya.ru'});\n    const [cards, setCards] = useState([]);\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [isAuthChecking, setIsAuthChecking] = useState(true);\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [data, setData] = useState(initialData);\n\n\n    const closePopup = () => {\n        setIsInfoTooltipPopupOpen(false)\n    }\n\n    useEffect(() => {\n        api.getAllNeededData()\n            .then(([cards, userData]) => {\n                setCurrentUser(userData)\n                setCards(cards)\n            })\n            .catch((err) => console.log(err))\n    }, []);\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true)\n    }\n\n    function handleCardClick(data) {\n        setSelectedCard({isOpen: true, ...data})\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setIsEditAvatarPopupOpen(false)\n        setSelectedCard({isOpen: false})\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        if (isLiked) {\n            api.dislike(card._id).then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            });\n        } else {\n            api.like(card._id).then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            });\n        }\n    }\n\n    const handleUpdateUser = (data) => {\n        return api.setUserInfoApi(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleUpdateAvatar = (data) => {\n        return api.updateAvatar(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleAddPlaceSubmit = ({name, link}) => {\n        return api.addCard({name, link})\n            .then(res => {\n                setCards([res, ...cards]);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleCardDelete = (useCardId) => {\n        return api.deleteCard(useCardId)\n            .then(res => {\n                setCards(state => state.filter(item => item._id === useCardId ? null : item));\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleRegister = ({password, email}) => {\n        return auth.register({password, email})\n            .then(res => {\n                if (!res || res.statusCode === 400) throw new Error(`Ошибка: ${res.message}`);\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(true);\n                history.push('/sign-in')\n                return res;\n            })\n            .catch(err => {\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(false);\n                return err;\n            })\n    }\n\n    const tokenCheck = useCallback(() => {\n        const jwt = localStorage.getItem('jwt');\n\n        if (jwt) {\n            setIsAuthChecking(true);\n            auth.getContent(jwt)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        setData({\n                            email: res.data.email\n                        })\n                        history.push('/mesto');\n                    }\n                })\n                .catch(() => history.push('/sign-in'))\n                .finally(() => setIsAuthChecking(false))\n        } else {\n            setIsAuthChecking(false)\n        }\n    }, [history])\n\n    useEffect(() => {\n        tokenCheck();\n    }, [tokenCheck])\n\n    const handleLogin = ({password, email}) => {\n        return auth.authorize({password, email})\n            .then(res => {\n                if (!res || res.statusCode === 400 || res.statusCode === 401) throw new Error(`Ошибка: ${res.message}`);\n                if (res.token) {\n                    setIsInfoTooltipPopupOpen(true);\n                    setIsSuccess(true);\n                    setLoggedIn(true);\n                    localStorage.setItem('jwt', res.token);\n                }\n            })\n            .then(tokenCheck)\n            .catch(err => {\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(false);\n                return err;\n            })\n    }\n\n    const handleSignOut = () => {\n        localStorage.removeItem('jwt');\n        setData(initialData);\n        setLoggedIn(false);\n        history.push('/sign-in');\n    }\n\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n                {/*<Header/>*/}\n                <Routes>\n                    <ProtectedRoute\n                        path=\"/mesto\"\n                        loggedIn={loggedIn}\n                        isChecking={isAuthChecking}\n                        exact>\n                        <Main\n                            onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onEditAvatar={handleEditAvatarClick}\n                            onCardClick={handleCardClick}\n                            cards={cards}\n                            onCardDelete={handleCardDelete}\n                            onCardLike={handleCardLike}\n                        />\n                    </ProtectedRoute>\n                    <Route path='/sign-in' exact>\n                        <Login onLogin={handleLogin}/>\n                    </Route>\n\n                    <Route path='/sign-up' exact>\n                        <Register onRegister={handleRegister}/>\n                    </Route>\n\n                    <Route path=\"*\">\n                        {loggedIn\n                            ? <Navigate to=\"/mesto\"/>\n                            : <Navigate to=\"/sign-in\"/>}\n                    </Route>\n                </Routes>\n                <Footer/>\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                  onUpdateUser={handleUpdateUser}/>\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n                <PopupWithForm name='delete' title='Вы уверены?' popupClass='popup-delete__card'\n                               buttonCloseClass='close-delete'\n                               buttonSubmitClass='popup-delete__button' buttonSubmitText='Да' isOpen={false}>\n                </PopupWithForm>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                                 onUpdateAvatar={handleUpdateAvatar}/>\n                <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n                <InfoTooltip\n                    isOpen={isInfoTooltipPopupOpen}\n                    onClose={closePopup}\n                    isSuccess={isSuccess}\n                />\n\n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}