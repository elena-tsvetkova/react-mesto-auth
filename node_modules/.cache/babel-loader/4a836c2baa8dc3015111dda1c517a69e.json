{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';var responseCheck=function responseCheck(response){return response.ok?response.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(response.status));};export var register=function register(_ref){var password=_ref.password,email=_ref.email;return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"password\":password,\"email\":email})}).then(responseCheck);};export var authorize=function authorize(_ref2){var password=_ref2.password,email=_ref2.email;return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"password\":password,\"email\":email})}).then(responseCheck);};export var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(responseCheck);};","map":{"version":3,"names":["BASE_URL","responseCheck","response","ok","json","Promise","reject","status","register","password","email","fetch","method","headers","body","JSON","stringify","then","authorize","getContent","token"],"sources":["/home/user/dev/mesto-react/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = ({password, email}) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then(responseCheck)\n};\n\nexport const authorize = ({password, email}) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then(responseCheck)\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n        .then(responseCheck)\n}"],"mappings":"AAAA,MAAO,IAAMA,SAAQ,CAAG,+BAAjB,CAEP,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,QAAD,QAAcA,SAAQ,CAACC,EAAT,CAAcD,QAAQ,CAACE,IAAT,EAAd,CAAgCC,OAAO,CAACC,MAAR,gDAAyBJ,QAAQ,CAACK,MAAlC,EAA9C,EAAtB,CAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAuB,IAArBC,SAAqB,MAArBA,QAAqB,CAAXC,KAAW,MAAXA,KAAW,CAC3C,MAAOC,MAAK,WAAIX,QAAJ,YAAuB,CAC/BY,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFsB,CAK/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,WAAYP,QADK,CAEjB,QAASC,KAFQ,CAAf,CALyB,CAAvB,CAAL,CAUFO,IAVE,CAUGhB,aAVH,CAAP,CAWH,CAZM,CAcP,MAAO,IAAMiB,UAAS,CAAG,QAAZA,UAAY,OAAuB,IAArBT,SAAqB,OAArBA,QAAqB,CAAXC,KAAW,OAAXA,KAAW,CAC5C,MAAOC,MAAK,WAAIX,QAAJ,YAAuB,CAC/BY,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFsB,CAK/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,WAAYP,QADK,CAEjB,QAASC,KAFQ,CAAf,CALyB,CAAvB,CAAL,CAUFO,IAVE,CAUGhB,aAVH,CAAP,CAWH,CAZM,CAcP,MAAO,IAAMkB,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAW,CACjC,MAAOT,MAAK,WAAIX,QAAJ,cAAyB,CACjCY,MAAM,CAAE,KADyB,CAEjCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BO,KAA3B,CAFK,CAFwB,CAAzB,CAAL,CAOFH,IAPE,CAOGhB,aAPH,CAAP,CAQH,CATM"},"metadata":{},"sourceType":"module"}