{"ast":null,"code":"import _toConsumableArray from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useCallback}from'react';import{Route,Routes,Navigate,useNavigate}from'react-router-dom';import Header from'./Header.js';import Footer from'./Footer.js';import Main from'./Main.js';import PopupWithForm from'./PopupWithForm.js';import ImagePopup from'./ImagePopup.js';import*as auth from'../utils/auth';import api from\"../utils/api\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import ProtectedRoute from\"./ProtectedRoute\";import Login from\"./Login\";import Register from\"./Register\";import InfoTooltip from\"./InfoTooltip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var history=useNavigate();var initialData={email:''};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState({isOpen:false}),_useState8=_slicedToArray(_useState7,2),selectedCard=_useState8[0],setSelectedCard=_useState8[1];var _useState9=useState({'name':'Жак','about':'test','avatar':'http://ya.ru'}),_useState10=_slicedToArray(_useState9,2),currentUser=_useState10[0],setCurrentUser=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),cards=_useState12[0],setCards=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loggedIn=_useState14[0],setLoggedIn=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),isAuthChecking=_useState16[0],setIsAuthChecking=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isInfoTooltipPopupOpen=_useState18[0],setIsInfoTooltipPopupOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isSuccess=_useState20[0],setIsSuccess=_useState20[1];var _useState21=useState(initialData),_useState22=_slicedToArray(_useState21,2),data=_useState22[0],setData=_useState22[1];var closePopup=function closePopup(){setIsInfoTooltipPopupOpen(false);};useEffect(function(){api.getAllNeededData().then(function(_ref){var _ref2=_slicedToArray(_ref,2),cards=_ref2[0],userData=_ref2[1];setCurrentUser(userData);setCards(cards);}).catch(function(err){return console.log(err);});},[]);function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleCardClick(data){setSelectedCard(_objectSpread({isOpen:true},data));}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setSelectedCard({isOpen:false});}function handleCardLike(card){var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});if(isLiked){api.dislike(card._id).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});});}else{api.like(card._id).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});});}}var handleUpdateUser=function handleUpdateUser(data){return api.setUserInfoApi(data).then(function(res){setCurrentUser(res);closeAllPopups();return res;}).catch(function(err){return console.log(err);});};var handleUpdateAvatar=function handleUpdateAvatar(data){return api.updateAvatar(data).then(function(res){setCurrentUser(res);closeAllPopups();return res;}).catch(function(err){return console.log(err);});};var handleAddPlaceSubmit=function handleAddPlaceSubmit(_ref3){var name=_ref3.name,link=_ref3.link;return api.addCard({name:name,link:link}).then(function(res){setCards([res].concat(_toConsumableArray(cards)));closeAllPopups();return res;}).catch(function(err){return console.log(err);});};var handleCardDelete=function handleCardDelete(useCardId){return api.deleteCard(useCardId).then(function(res){setCards(function(state){return state.filter(function(item){return item._id===useCardId?null:item;});});return res;}).catch(function(err){return console.log(err);});};var handleRegister=function handleRegister(_ref4){var password=_ref4.password,email=_ref4.email;return auth.register({password:password,email:email}).then(function(res){if(!res||res.statusCode===400)throw new Error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.message));setIsInfoTooltipPopupOpen(true);setIsSuccess(true);history.push('/sign-in');return res;}).catch(function(err){setIsInfoTooltipPopupOpen(true);setIsSuccess(false);return err;});};var tokenCheck=useCallback(function(){var jwt=localStorage.getItem('jwt');if(jwt){setIsAuthChecking(true);auth.getContent(jwt).then(function(res){if(res){setLoggedIn(true);setData({email:res.data.email});history.push('/mesto');}}).catch(function(){return history.push('/sign-in');}).finally(function(){return setIsAuthChecking(false);});}else{setIsAuthChecking(false);}},[history]);useEffect(function(){tokenCheck();},[tokenCheck]);var handleLogin=function handleLogin(_ref5){var password=_ref5.password,email=_ref5.email;return auth.authorize({password:password,email:email}).then(function(res){if(!res||res.statusCode===400||res.statusCode===401)throw new Error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.message));if(res.token){setIsInfoTooltipPopupOpen(true);setIsSuccess(true);setLoggedIn(true);localStorage.setItem('jwt',res.token);}}).then(tokenCheck).catch(function(err){setIsInfoTooltipPopupOpen(true);setIsSuccess(false);return err;});};var handleSignOut=function handleSignOut(){localStorage.removeItem('jwt');setData(initialData);setLoggedIn(false);history.push('/sign-in');};return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/mesto\",element:/*#__PURE__*/_jsx(ProtectedRoute,{}),exact:true,loggedIn:loggedIn,isChecking:isAuthChecking,children:/*#__PURE__*/_jsx(Route,{exact:true,path:\"/mesto\",element:/*#__PURE__*/_jsx(Main,{}),onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick,cards:cards,onCardDelete:handleCardDelete,onCardLike:handleCardLike})})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"delete\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",popupClass:\"popup-delete__card\",buttonCloseClass:\"close-delete\",buttonSubmitClass:\"popup-delete__button\",buttonSubmitText:\"\\u0414\\u0430\",isOpen:false}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Route","Routes","Navigate","useNavigate","Header","Footer","Main","PopupWithForm","ImagePopup","auth","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ProtectedRoute","Login","Register","InfoTooltip","App","history","initialData","email","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","loggedIn","setLoggedIn","isAuthChecking","setIsAuthChecking","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isSuccess","setIsSuccess","data","setData","closePopup","getAllNeededData","then","userData","catch","err","console","log","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","closeAllPopups","handleCardLike","card","isLiked","likes","some","i","_id","dislike","newCard","state","map","c","like","handleUpdateUser","setUserInfoApi","res","handleUpdateAvatar","updateAvatar","handleAddPlaceSubmit","name","link","addCard","handleCardDelete","useCardId","deleteCard","filter","item","handleRegister","password","register","statusCode","Error","message","push","tokenCheck","jwt","localStorage","getItem","getContent","finally","handleLogin","authorize","token","setItem","handleSignOut","removeItem"],"sources":["/home/user/dev/mesto-react/src/components/App.js"],"sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\nimport {Route, Routes, Navigate, useNavigate} from 'react-router-dom';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport * as auth from '../utils/auth';\nimport api from \"../utils/api\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\n\n\nfunction App() {\n    const history = useNavigate();\n    const initialData = {\n        email: ''\n    }\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({isOpen: false});\n    const [currentUser, setCurrentUser] = useState({'name': 'Жак', 'about': 'test', 'avatar': 'http://ya.ru'});\n    const [cards, setCards] = useState([]);\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [isAuthChecking, setIsAuthChecking] = useState(true);\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [data, setData] = useState(initialData);\n\n\n    const closePopup = () => {\n        setIsInfoTooltipPopupOpen(false)\n    }\n\n    useEffect(() => {\n        api.getAllNeededData()\n            .then(([cards, userData]) => {\n                setCurrentUser(userData)\n                setCards(cards)\n            })\n            .catch((err) => console.log(err))\n    }, []);\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true)\n    }\n\n    function handleCardClick(data) {\n        setSelectedCard({isOpen: true, ...data})\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setIsEditAvatarPopupOpen(false)\n        setSelectedCard({isOpen: false})\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        if (isLiked) {\n            api.dislike(card._id).then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            });\n        } else {\n            api.like(card._id).then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            });\n        }\n    }\n\n    const handleUpdateUser = (data) => {\n        return api.setUserInfoApi(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleUpdateAvatar = (data) => {\n        return api.updateAvatar(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleAddPlaceSubmit = ({name, link}) => {\n        return api.addCard({name, link})\n            .then(res => {\n                setCards([res, ...cards]);\n                closeAllPopups()\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleCardDelete = (useCardId) => {\n        return api.deleteCard(useCardId)\n            .then(res => {\n                setCards(state => state.filter(item => item._id === useCardId ? null : item));\n                return res;\n            })\n            .catch((err) => console.log(err))\n    }\n\n    const handleRegister = ({password, email}) => {\n        return auth.register({password, email})\n            .then(res => {\n                if (!res || res.statusCode === 400) throw new Error(`Ошибка: ${res.message}`);\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(true);\n                history.push('/sign-in')\n                return res;\n            })\n            .catch(err => {\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(false);\n                return err;\n            })\n    }\n\n    const tokenCheck = useCallback(() => {\n        const jwt = localStorage.getItem('jwt');\n\n        if (jwt) {\n            setIsAuthChecking(true);\n            auth.getContent(jwt)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        setData({\n                            email: res.data.email\n                        })\n                        history.push('/mesto');\n                    }\n                })\n                .catch(() => history.push('/sign-in'))\n                .finally(() => setIsAuthChecking(false))\n        } else {\n            setIsAuthChecking(false)\n        }\n    }, [history])\n\n    useEffect(() => {\n        tokenCheck();\n    }, [tokenCheck])\n\n    const handleLogin = ({password, email}) => {\n        return auth.authorize({password, email})\n            .then(res => {\n                if (!res || res.statusCode === 400 || res.statusCode === 401) throw new Error(`Ошибка: ${res.message}`);\n                if (res.token) {\n                    setIsInfoTooltipPopupOpen(true);\n                    setIsSuccess(true);\n                    setLoggedIn(true);\n                    localStorage.setItem('jwt', res.token);\n                }\n            })\n            .then(tokenCheck)\n            .catch(err => {\n                setIsInfoTooltipPopupOpen(true);\n                setIsSuccess(false);\n                return err;\n            })\n    }\n\n    const handleSignOut = () => {\n        localStorage.removeItem('jwt');\n        setData(initialData);\n        setLoggedIn(false);\n        history.push('/sign-in');\n    }\n\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n                {/*<Header/>*/}\n                <Routes>\n                    <Route path='/mesto' element={<ProtectedRoute/>} exact loggedIn={loggedIn} isChecking={isAuthChecking}>\n                        <Route exact path='/mesto' element={<Main/>}                             onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onEditAvatar={handleEditAvatarClick}\n                            onCardClick={handleCardClick}\n                            cards={cards}\n                            onCardDelete={handleCardDelete}\n                            onCardLike={handleCardLike}/>\n                        </Route>\n                    {/*<Route path='/sign-in' exact>*/}\n                    {/*    <Login onLogin={handleLogin}/>*/}\n                    {/*</Route>*/}\n\n                    {/*<Route path='/sign-up' exact>*/}\n                    {/*    <Register onRegister={handleRegister}/>*/}\n                    {/*</Route>*/}\n\n                    {/*<Route path=\"*\">*/}\n                    {/*    {loggedIn*/}\n                    {/*        ? <Navigate to=\"/mesto\"/>*/}\n                    {/*        : <Navigate to=\"/sign-in\"/>}*/}\n                    {/*</Route>*/}\n                </Routes>\n                <Footer/>\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                  onUpdateUser={handleUpdateUser}/>\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n                <PopupWithForm name='delete' title='Вы уверены?' popupClass='popup-delete__card'\n                               buttonCloseClass='close-delete'\n                               buttonSubmitClass='popup-delete__button' buttonSubmitText='Да' isOpen={false}>\n                </PopupWithForm>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                                 onUpdateAvatar={handleUpdateAvatar}/>\n                <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n                {/*<InfoTooltip*/}\n                {/*    isOpen={isInfoTooltipPopupOpen}*/}\n                {/*    onClose={closePopup}*/}\n                {/*    isSuccess={isSuccess}*/}\n                {/*/>*/}\n\n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"uVAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,WAApC,KAAsD,OAAtD,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,QAAvB,CAAiCC,WAAjC,KAAmD,kBAAnD,CACA,MAAOC,OAAP,KAAmB,aAAnB,CACA,MAAOC,OAAP,KAAmB,aAAnB,CACA,MAAOC,KAAP,KAAiB,WAAjB,CACA,MAAOC,cAAP,KAA0B,oBAA1B,CACA,MAAOC,WAAP,KAAuB,iBAAvB,CACA,MAAO,GAAKC,KAAZ,KAAsB,eAAtB,CACA,MAAOC,IAAP,KAAgB,cAAhB,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,CACA,MAAOC,iBAAP,KAA6B,oBAA7B,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAOC,YAAP,KAAwB,eAAxB,C,wFAGA,QAASC,IAAT,EAAe,CACX,GAAMC,QAAO,CAAGjB,WAAW,EAA3B,CACA,GAAMkB,YAAW,CAAG,CAChBC,KAAK,CAAE,EADS,CAApB,CAGA,cAA4DzB,QAAQ,CAAC,KAAD,CAApE,wCAAO0B,sBAAP,eAA+BC,yBAA/B,eACA,eAAsD3B,QAAQ,CAAC,KAAD,CAA9D,yCAAO4B,mBAAP,eAA4BC,sBAA5B,eACA,eAA0D7B,QAAQ,CAAC,KAAD,CAAlE,yCAAO8B,qBAAP,eAA8BC,wBAA9B,eACA,eAAwC/B,QAAQ,CAAC,CAACgC,MAAM,CAAE,KAAT,CAAD,CAAhD,yCAAOC,YAAP,eAAqBC,eAArB,eACA,eAAsClC,QAAQ,CAAC,CAAC,OAAQ,KAAT,CAAgB,QAAS,MAAzB,CAAiC,SAAU,cAA3C,CAAD,CAA9C,0CAAOmC,WAAP,gBAAoBC,cAApB,gBACA,gBAA0BpC,QAAQ,CAAC,EAAD,CAAlC,2CAAOqC,KAAP,gBAAcC,QAAd,gBACA,gBAAgCtC,QAAQ,CAAC,KAAD,CAAxC,2CAAOuC,QAAP,gBAAiBC,WAAjB,gBACA,gBAA4CxC,QAAQ,CAAC,IAAD,CAApD,2CAAOyC,cAAP,gBAAuBC,iBAAvB,gBACA,gBAA4D1C,QAAQ,CAAC,KAAD,CAApE,2CAAO2C,sBAAP,gBAA+BC,yBAA/B,gBACA,gBAAkC5C,QAAQ,CAAC,KAAD,CAA1C,2CAAO6C,SAAP,gBAAkBC,YAAlB,gBACA,gBAAwB9C,QAAQ,CAACwB,WAAD,CAAhC,2CAAOuB,IAAP,gBAAaC,OAAb,gBAGA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrBL,yBAAyB,CAAC,KAAD,CAAzB,CACH,CAFD,CAIA3C,SAAS,CAAC,UAAM,CACZY,GAAG,CAACqC,gBAAJ,GACKC,IADL,CACU,cAAuB,kCAArBd,KAAqB,UAAde,QAAc,UACzBhB,cAAc,CAACgB,QAAD,CAAd,CACAd,QAAQ,CAACD,KAAD,CAAR,CACH,CAJL,EAKKgB,KALL,CAKW,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALX,EAMH,CAPQ,CAON,EAPM,CAAT,CASA,QAASG,uBAAT,EAAkC,CAC9B9B,yBAAyB,CAAC,IAAD,CAAzB,CACH,CAED,QAAS+B,oBAAT,EAA+B,CAC3B7B,sBAAsB,CAAC,IAAD,CAAtB,CACH,CAED,QAAS8B,sBAAT,EAAiC,CAC7B5B,wBAAwB,CAAC,IAAD,CAAxB,CACH,CAED,QAAS6B,gBAAT,CAAyBb,IAAzB,CAA+B,CAC3Bb,eAAe,gBAAEF,MAAM,CAAE,IAAV,EAAmBe,IAAnB,EAAf,CACH,CAED,QAASc,eAAT,EAA0B,CACtBlC,yBAAyB,CAAC,KAAD,CAAzB,CACAE,sBAAsB,CAAC,KAAD,CAAtB,CACAE,wBAAwB,CAAC,KAAD,CAAxB,CACAG,eAAe,CAAC,CAACF,MAAM,CAAE,KAAT,CAAD,CAAf,CACH,CAED,QAAS8B,eAAT,CAAwBC,IAAxB,CAA8B,CAC1B,GAAMC,QAAO,CAAGD,IAAI,CAACE,KAAL,CAAWC,IAAX,CAAgB,SAAAC,CAAC,QAAIA,EAAC,CAACC,GAAF,GAAUjC,WAAW,CAACiC,GAA1B,EAAjB,CAAhB,CACA,GAAIJ,OAAJ,CAAa,CACTnD,GAAG,CAACwD,OAAJ,CAAYN,IAAI,CAACK,GAAjB,EAAsBjB,IAAtB,CAA2B,SAACmB,OAAD,CAAa,CACpChC,QAAQ,CAAC,SAACiC,KAAD,QAAWA,MAAK,CAACC,GAAN,CAAU,SAACC,CAAD,QAAOA,EAAC,CAACL,GAAF,GAAUL,IAAI,CAACK,GAAf,CAAqBE,OAArB,CAA+BG,CAAtC,EAAV,CAAX,EAAD,CAAR,CACH,CAFD,EAGH,CAJD,IAIO,CACH5D,GAAG,CAAC6D,IAAJ,CAASX,IAAI,CAACK,GAAd,EAAmBjB,IAAnB,CAAwB,SAACmB,OAAD,CAAa,CACjChC,QAAQ,CAAC,SAACiC,KAAD,QAAWA,MAAK,CAACC,GAAN,CAAU,SAACC,CAAD,QAAOA,EAAC,CAACL,GAAF,GAAUL,IAAI,CAACK,GAAf,CAAqBE,OAArB,CAA+BG,CAAtC,EAAV,CAAX,EAAD,CAAR,CACH,CAFD,EAGH,CACJ,CAED,GAAME,iBAAgB,CAAG,QAAnBA,iBAAmB,CAAC5B,IAAD,CAAU,CAC/B,MAAOlC,IAAG,CAAC+D,cAAJ,CAAmB7B,IAAnB,EACFI,IADE,CACG,SAAA0B,GAAG,CAAI,CACTzC,cAAc,CAACyC,GAAD,CAAd,CACAhB,cAAc,GACd,MAAOgB,IAAP,CACH,CALE,EAMFxB,KANE,CAMI,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANJ,CAAP,CAOH,CARD,CAUA,GAAMwB,mBAAkB,CAAG,QAArBA,mBAAqB,CAAC/B,IAAD,CAAU,CACjC,MAAOlC,IAAG,CAACkE,YAAJ,CAAiBhC,IAAjB,EACFI,IADE,CACG,SAAA0B,GAAG,CAAI,CACTzC,cAAc,CAACyC,GAAD,CAAd,CACAhB,cAAc,GACd,MAAOgB,IAAP,CACH,CALE,EAMFxB,KANE,CAMI,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANJ,CAAP,CAOH,CARD,CAUA,GAAM0B,qBAAoB,CAAG,QAAvBA,qBAAuB,OAAkB,IAAhBC,KAAgB,OAAhBA,IAAgB,CAAVC,IAAU,OAAVA,IAAU,CAC3C,MAAOrE,IAAG,CAACsE,OAAJ,CAAY,CAACF,IAAI,CAAJA,IAAD,CAAOC,IAAI,CAAJA,IAAP,CAAZ,EACF/B,IADE,CACG,SAAA0B,GAAG,CAAI,CACTvC,QAAQ,EAAEuC,GAAF,4BAAUxC,KAAV,GAAR,CACAwB,cAAc,GACd,MAAOgB,IAAP,CACH,CALE,EAMFxB,KANE,CAMI,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANJ,CAAP,CAOH,CARD,CAUA,GAAM8B,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,SAAD,CAAe,CACpC,MAAOxE,IAAG,CAACyE,UAAJ,CAAeD,SAAf,EACFlC,IADE,CACG,SAAA0B,GAAG,CAAI,CACTvC,QAAQ,CAAC,SAAAiC,KAAK,QAAIA,MAAK,CAACgB,MAAN,CAAa,SAAAC,IAAI,QAAIA,KAAI,CAACpB,GAAL,GAAaiB,SAAb,CAAyB,IAAzB,CAAgCG,IAApC,EAAjB,CAAJ,EAAN,CAAR,CACA,MAAOX,IAAP,CACH,CAJE,EAKFxB,KALE,CAKI,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALJ,CAAP,CAMH,CAPD,CASA,GAAMmC,eAAc,CAAG,QAAjBA,eAAiB,OAAuB,IAArBC,SAAqB,OAArBA,QAAqB,CAAXjE,KAAW,OAAXA,KAAW,CAC1C,MAAOb,KAAI,CAAC+E,QAAL,CAAc,CAACD,QAAQ,CAARA,QAAD,CAAWjE,KAAK,CAALA,KAAX,CAAd,EACF0B,IADE,CACG,SAAA0B,GAAG,CAAI,CACT,GAAI,CAACA,GAAD,EAAQA,GAAG,CAACe,UAAJ,GAAmB,GAA/B,CAAoC,KAAM,IAAIC,MAAJ,iDAAqBhB,GAAG,CAACiB,OAAzB,EAAN,CACpClD,yBAAyB,CAAC,IAAD,CAAzB,CACAE,YAAY,CAAC,IAAD,CAAZ,CACAvB,OAAO,CAACwE,IAAR,CAAa,UAAb,EACA,MAAOlB,IAAP,CACH,CAPE,EAQFxB,KARE,CAQI,SAAAC,GAAG,CAAI,CACVV,yBAAyB,CAAC,IAAD,CAAzB,CACAE,YAAY,CAAC,KAAD,CAAZ,CACA,MAAOQ,IAAP,CACH,CAZE,CAAP,CAaH,CAdD,CAgBA,GAAM0C,WAAU,CAAG9F,WAAW,CAAC,UAAM,CACjC,GAAM+F,IAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ,CAEA,GAAIF,GAAJ,CAAS,CACLvD,iBAAiB,CAAC,IAAD,CAAjB,CACA9B,IAAI,CAACwF,UAAL,CAAgBH,GAAhB,EACK9C,IADL,CACU,SAAC0B,GAAD,CAAS,CACX,GAAIA,GAAJ,CAAS,CACLrC,WAAW,CAAC,IAAD,CAAX,CACAQ,OAAO,CAAC,CACJvB,KAAK,CAAEoD,GAAG,CAAC9B,IAAJ,CAAStB,KADZ,CAAD,CAAP,CAGAF,OAAO,CAACwE,IAAR,CAAa,QAAb,EACH,CACJ,CATL,EAUK1C,KAVL,CAUW,iBAAM9B,QAAO,CAACwE,IAAR,CAAa,UAAb,CAAN,EAVX,EAWKM,OAXL,CAWa,iBAAM3D,kBAAiB,CAAC,KAAD,CAAvB,EAXb,EAYH,CAdD,IAcO,CACHA,iBAAiB,CAAC,KAAD,CAAjB,CACH,CACJ,CApB6B,CAoB3B,CAACnB,OAAD,CApB2B,CAA9B,CAsBAtB,SAAS,CAAC,UAAM,CACZ+F,UAAU,GACb,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CAIA,GAAMM,YAAW,CAAG,QAAdA,YAAc,OAAuB,IAArBZ,SAAqB,OAArBA,QAAqB,CAAXjE,KAAW,OAAXA,KAAW,CACvC,MAAOb,KAAI,CAAC2F,SAAL,CAAe,CAACb,QAAQ,CAARA,QAAD,CAAWjE,KAAK,CAALA,KAAX,CAAf,EACF0B,IADE,CACG,SAAA0B,GAAG,CAAI,CACT,GAAI,CAACA,GAAD,EAAQA,GAAG,CAACe,UAAJ,GAAmB,GAA3B,EAAkCf,GAAG,CAACe,UAAJ,GAAmB,GAAzD,CAA8D,KAAM,IAAIC,MAAJ,iDAAqBhB,GAAG,CAACiB,OAAzB,EAAN,CAC9D,GAAIjB,GAAG,CAAC2B,KAAR,CAAe,CACX5D,yBAAyB,CAAC,IAAD,CAAzB,CACAE,YAAY,CAAC,IAAD,CAAZ,CACAN,WAAW,CAAC,IAAD,CAAX,CACA0D,YAAY,CAACO,OAAb,CAAqB,KAArB,CAA4B5B,GAAG,CAAC2B,KAAhC,EACH,CACJ,CATE,EAUFrD,IAVE,CAUG6C,UAVH,EAWF3C,KAXE,CAWI,SAAAC,GAAG,CAAI,CACVV,yBAAyB,CAAC,IAAD,CAAzB,CACAE,YAAY,CAAC,KAAD,CAAZ,CACA,MAAOQ,IAAP,CACH,CAfE,CAAP,CAgBH,CAjBD,CAmBA,GAAMoD,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACxBR,YAAY,CAACS,UAAb,CAAwB,KAAxB,EACA3D,OAAO,CAACxB,WAAD,CAAP,CACAgB,WAAW,CAAC,KAAD,CAAX,CACAjB,OAAO,CAACwE,IAAR,CAAa,UAAb,EACH,CALD,CAOA,mBACI,YAAK,SAAS,CAAC,MAAf,uBACI,MAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAE5D,WAApC,wBAEI,KAAC,MAAD,wBACI,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,cAAD,IAA9B,CAAiD,KAAK,KAAtD,CAAuD,QAAQ,CAAEI,QAAjE,CAA2E,UAAU,CAAEE,cAAvF,uBACI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,OAAO,cAAE,KAAC,IAAD,IAApC,CAAyE,aAAa,CAAEgB,sBAAxF,CACI,UAAU,CAAEC,mBADhB,CAEI,YAAY,CAAEC,qBAFlB,CAGI,WAAW,CAAEC,eAHjB,CAII,KAAK,CAAEvB,KAJX,CAKI,YAAY,CAAE+C,gBALlB,CAMI,UAAU,CAAEtB,cANhB,EADJ,EADJ,EAFJ,cA0BI,KAAC,MAAD,IA1BJ,cA4BI,KAAC,gBAAD,EAAkB,MAAM,CAAEpC,sBAA1B,CAAkD,OAAO,CAAEmC,cAA3D,CACkB,YAAY,CAAEc,gBADhC,EA5BJ,cA8BI,KAAC,aAAD,EAAe,MAAM,CAAE/C,mBAAvB,CAA4C,OAAO,CAAEiC,cAArD,CAAqE,UAAU,CAAEmB,oBAAjF,EA9BJ,cA+BI,KAAC,aAAD,EAAe,IAAI,CAAC,QAApB,CAA6B,KAAK,CAAC,0DAAnC,CAAiD,UAAU,CAAC,oBAA5D,CACe,gBAAgB,CAAC,cADhC,CAEe,iBAAiB,CAAC,sBAFjC,CAEwD,gBAAgB,CAAC,cAFzE,CAE8E,MAAM,CAAE,KAFtF,EA/BJ,cAmCI,KAAC,eAAD,EAAiB,MAAM,CAAElD,qBAAzB,CAAgD,OAAO,CAAE+B,cAAzD,CACiB,cAAc,CAAEiB,kBADjC,EAnCJ,cAqCI,KAAC,UAAD,EAAY,IAAI,CAAE7C,YAAlB,CAAgC,OAAO,CAAE4B,cAAzC,EArCJ,GADJ,EADJ,CAkDH,CAED,cAAevC,IAAf"},"metadata":{},"sourceType":"module"}