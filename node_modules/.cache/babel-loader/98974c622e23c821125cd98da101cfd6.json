{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useFormWithValidation}from\"../hooks/useFormWithValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var onRegister=_ref.onRegister;// Используем пользовательский Хук\nvar _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,resetFrom=_useFormWithValidatio.resetFrom,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,isValidInputs=_useFormWithValidatio.isValidInputs;var handleSubmit=function handleSubmit(e){e.preventDefault();// Проверяем совпадение паролей\nif(values.password!==values.confirmation){resetFrom({email:values.email},{password:'Пароли не совпадают',confirmation:'Пароли не совпадают'},false,{email:true});return;}// Запрос на сервер и обработка результата\nonRegister(values).then(resetFrom()).catch(function(err){console.log(err.message||'Что то пошло не так');});};return/*#__PURE__*/_jsx(\"main\",{className:\"main register\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register__container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"register__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"register__form\",name:\"form\",id:\"form-with-register\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"register__input register__input_type_email\\n        \".concat(isValidInputs.email?'register__input_state_valid':''),type:\"email\",placeholder:\"Email\",name:\"email\",id:\"register-input-email\",minLength:\"2\",maxLength:\"100\",value:values.email||\"\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"register-input-email-error\",className:\"register__error\",children:errors.email||\"\"}),/*#__PURE__*/_jsx(\"input\",{className:\"register__input register__input_type_password\\n        \".concat(isValidInputs.password?'register__input_state_valid':''),type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",id:\"register-input-password\",minLength:\"6\",maxLength:\"50\",value:values.password||\"\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"register-input-password-error\",className:\"register__error\",children:errors.password||\"\"}),/*#__PURE__*/_jsx(\"input\",{className:\"register__input register__input_type_confirm-password\\n        \".concat(isValidInputs.confirmation?'register__input_state_valid':''),type:\"password\",placeholder:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"confirmation\",id:\"register-input-confirm-password\",minLength:\"2\",maxLength:\"50\",value:values.confirmation||\"\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"register-input-confirm-password-error\",className:\"register__error\",children:errors.confirmation||\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button register__button-submit \\n            \".concat(!isValid?'register__button-submit_invalid':''),type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"register__signin\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"register__login-link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","Link","useFormWithValidation","Register","onRegister","values","handleChange","resetFrom","errors","isValid","isValidInputs","handleSubmit","e","preventDefault","password","confirmation","email","then","catch","err","console","log","message"],"sources":["/home/user/dev/mesto-react/src/components/Register.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useFormWithValidation } from \"../hooks/useFormWithValidation\";\n\nconst Register = ({ onRegister }) => {\n\n  // Используем пользовательский Хук\n  const {\n    values,\n    handleChange,\n    resetFrom,\n    errors,\n    isValid,\n    isValidInputs\n  } = useFormWithValidation();\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Проверяем совпадение паролей\n    if (values.password !== values.confirmation) {\n\n      resetFrom({\n        email: values.email,\n      }, {\n        password: 'Пароли не совпадают',\n        confirmation: 'Пароли не совпадают'\n      }, false, {\n        email: true,\n      })\n      return;\n    }\n\n    // Запрос на сервер и обработка результата\n    onRegister(values)\n      .then(resetFrom())\n      .catch(err => {\n        console.log(err.message || 'Что то пошло не так')\n      })\n  }\n\n  return (\n    <main className=\"main register\">\n      <div className=\"register__container\">\n        <h2 className=\"register__title\">Регистрация</h2>\n        <form\n          className=\"register__form\"\n          name=\"form\"\n          id=\"form-with-register\"\n          onSubmit={handleSubmit}>\n\n          <input\n            className={`register__input register__input_type_email\n        ${isValidInputs.email\n                ? 'register__input_state_valid'\n                : ''\n              }`}\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            id=\"register-input-email\"\n            minLength=\"2\"\n            maxLength=\"100\"\n            value={values.email || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-email-error\"\n            className=\"register__error\">\n            {errors.email || \"\"}\n          </span>\n\n          <input\n            className={`register__input register__input_type_password\n        ${isValidInputs.password\n                ? 'register__input_state_valid'\n                : ''\n              }`}\n            type=\"password\"\n            placeholder=\"Пароль\"\n            name=\"password\"\n            id=\"register-input-password\"\n            minLength=\"6\"\n            maxLength=\"50\"\n            value={values.password || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-password-error\"\n            className=\"register__error\">\n            {errors.password || \"\"}\n          </span>\n\n          <input\n            className={`register__input register__input_type_confirm-password\n        ${isValidInputs.confirmation\n                ? 'register__input_state_valid'\n                : ''\n              }`}\n            type=\"password\"\n            placeholder=\"Подтвердите пароль\"\n            name=\"confirmation\"\n            id=\"register-input-confirm-password\"\n            minLength=\"2\"\n            maxLength=\"50\"\n            value={values.confirmation || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-confirm-password-error\"\n            className=\"register__error\">\n            {errors.confirmation || \"\"}\n          </span>\n\n          <button\n            className={`button register__button-submit \n            ${!isValid\n                ? 'register__button-submit_invalid'\n                : ''\n              }`}\n            type=\"submit\">\n            Зарегистрироваться\n          </button>\n        </form>\n        <div className=\"register__signin\">\n          <p>Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__login-link\">Войти</Link></p>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}