{"ast":null,"code":"import _defineProperty from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Пользовательский Хук для сбора информации инпутов, и валидации формы\nimport React,{useCallback}from\"react\";export var useFormWithValidation=function useFormWithValidation(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),errors=_React$useState4[0],setErrors=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isValid=_React$useState6[0],setIsValid=_React$useState6[1];var _React$useState7=React.useState({}),_React$useState8=_slicedToArray(_React$useState7,2),isValidInputs=_React$useState8[0],setIsValidInputs=_React$useState8[1];var handleChange=function handleChange(evt){var input=evt.target;var value=input.value;var name=input.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,input.validationMessage)));setIsValid(input.closest(\"form\").checkValidity());setIsValidInputs(_objectSpread(_objectSpread({},isValidInputs),{},_defineProperty({},name,input.checkValidity())));};var resetFrom=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var newIsValidInputs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);setIsValidInputs(newIsValidInputs);},[setValues,setErrors,setIsValid]);return{values:values,handleChange:handleChange,resetFrom:resetFrom,errors:errors,isValid:isValid,isValidInputs:isValidInputs};};","map":{"version":3,"names":["React","useCallback","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","isValidInputs","setIsValidInputs","handleChange","evt","input","target","value","name","validationMessage","closest","checkValidity","resetFrom","newValues","newErrors","newIsValid","newIsValidInputs"],"sources":["/home/user/dev/mesto-react/src/hooks/useFormWithValidation.js"],"sourcesContent":["// Пользовательский Хук для сбора информации инпутов, и валидации формы\nimport React, { useCallback } from \"react\";\n\nexport const useFormWithValidation = () => {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const [isValidInputs, setIsValidInputs] = React.useState({});\n\n  const handleChange = (evt) => {\n    const input = evt.target;\n    const value = input.value;\n    const name = input.name;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: input.validationMessage });\n    setIsValid(input.closest(\"form\").checkValidity());\n\n    setIsValidInputs({ ...isValidInputs, [name]: input.checkValidity() });\n  };\n\n  const resetFrom = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false, newIsValidInputs = {}) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n      setIsValidInputs(newIsValidInputs);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, resetFrom, errors, isValid, isValidInputs };\n}"],"mappings":"iVAAA;AACA,MAAOA,MAAP,EAAgBC,WAAhB,KAAmC,OAAnC,CAEA,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CACzC,oBAA4BF,KAAK,CAACG,QAAN,CAAe,EAAf,CAA5B,oDAAOC,MAAP,qBAAeC,SAAf,qBACA,qBAA4BL,KAAK,CAACG,QAAN,CAAe,EAAf,CAA5B,qDAAOG,MAAP,qBAAeC,SAAf,qBACA,qBAA8BP,KAAK,CAACG,QAAN,CAAe,KAAf,CAA9B,qDAAOK,OAAP,qBAAgBC,UAAhB,qBAEA,qBAA0CT,KAAK,CAACG,QAAN,CAAe,EAAf,CAA1C,qDAAOO,aAAP,qBAAsBC,gBAAtB,qBAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,GAAD,CAAS,CAC5B,GAAMC,MAAK,CAAGD,GAAG,CAACE,MAAlB,CACA,GAAMC,MAAK,CAAGF,KAAK,CAACE,KAApB,CACA,GAAMC,KAAI,CAAGH,KAAK,CAACG,IAAnB,CACAZ,SAAS,gCAAMD,MAAN,wBAAea,IAAf,CAAsBD,KAAtB,GAAT,CACAT,SAAS,gCAAMD,MAAN,wBAAeW,IAAf,CAAsBH,KAAK,CAACI,iBAA5B,GAAT,CACAT,UAAU,CAACK,KAAK,CAACK,OAAN,CAAc,MAAd,EAAsBC,aAAtB,EAAD,CAAV,CAEAT,gBAAgB,gCAAMD,aAAN,wBAAsBO,IAAtB,CAA6BH,KAAK,CAACM,aAAN,EAA7B,GAAhB,CACD,CATD,CAWA,GAAMC,UAAS,CAAGpB,WAAW,CAC3B,UAA+E,IAA9EqB,UAA8E,2DAAlE,EAAkE,IAA9DC,UAA8D,2DAAlD,EAAkD,IAA9CC,WAA8C,2DAAjC,KAAiC,IAA1BC,iBAA0B,2DAAP,EAAO,CAC7EpB,SAAS,CAACiB,SAAD,CAAT,CACAf,SAAS,CAACgB,SAAD,CAAT,CACAd,UAAU,CAACe,UAAD,CAAV,CACAb,gBAAgB,CAACc,gBAAD,CAAhB,CACD,CAN0B,CAO3B,CAACpB,SAAD,CAAYE,SAAZ,CAAuBE,UAAvB,CAP2B,CAA7B,CAUA,MAAO,CAAEL,MAAM,CAANA,MAAF,CAAUQ,YAAY,CAAZA,YAAV,CAAwBS,SAAS,CAATA,SAAxB,CAAmCf,MAAM,CAANA,MAAnC,CAA2CE,OAAO,CAAPA,OAA3C,CAAoDE,aAAa,CAAbA,aAApD,CAAP,CACD,CA7BM"},"metadata":{},"sourceType":"module"}