{"ast":null,"code":"import React,{useEffect}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InfoTooltip=function InfoTooltip(props){// Диструктуризированная переменная с пропсами\nvar isOpen=props.isOpen,onClose=props.onClose,isSuccess=props.isSuccess;var path=useLocation().pathname;var tooltip=function tooltip(){if(path==='/sign-in'||path==='/sign-up'){return isSuccess?\"Вы успешно зарегистрировались!\":\"Что-то пошло не так! Попробуйте ещё раз.\";}if(path==='/mesto'){return isSuccess?\"Вы успешно авторизовались!\":\"Что-то пошло не так!\";}return;};var image=isSuccess?success:fail;// Реализация закрытия нажатием на ESC\nuseEffect(function(){if(!isOpen)return;var handleEscapeClose=function handleEscapeClose(event){if(event.key===\"Escape\"){onClose();}};document.addEventListener(\"keydown\",handleEscapeClose);return function(){document.removeEventListener(\"keydown\",handleEscapeClose);};},[isOpen,onClose]);// Реализация закрытия по оверлею\nvar handleOverlayClose=function handleOverlayClose(e){if(e.target===e.currentTarget&&isOpen){onClose();}return;};return/*#__PURE__*/_jsx(\"section\",{onClick:handleOverlayClose,className:\"popup \".concat(isOpen?'popup_opened':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"popup__close\",type:\"button\",onClick:onClose}),/*#__PURE__*/_jsx(\"img\",{className:\"popup__image\",src:image,alt:\"Картинка подсказки\"}),/*#__PURE__*/_jsx(\"p\",{className:\"popup__title popup__title-tooltip\",children:tooltip()})]})});};export default InfoTooltip;","map":{"version":3,"names":["React","useEffect","useLocation","InfoTooltip","props","isOpen","onClose","isSuccess","path","pathname","tooltip","image","success","fail","handleEscapeClose","event","key","document","addEventListener","removeEventListener","handleOverlayClose","e","target","currentTarget"],"sources":["/home/user/dev/mesto-react/src/components/InfoTooltip.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst InfoTooltip = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    isOpen,\n    onClose,\n    isSuccess\n  } = props;\n\n  const path = useLocation().pathname\n\n  const tooltip = () => {\n    if (path === '/sign-in' || path === '/sign-up') {\n      return isSuccess\n        ? \"Вы успешно зарегистрировались!\"\n        : \"Что-то пошло не так! Попробуйте ещё раз.\";\n    }\n\n    if (path === '/mesto') {\n      return isSuccess\n        ? \"Вы успешно авторизовались!\"\n        : \"Что-то пошло не так!\";\n    }\n\n    return;\n  }\n\n  const image = isSuccess\n    ? success\n    : fail\n\n  // Реализация закрытия нажатием на ESC\n  useEffect(() => {\n    if (!isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [isOpen, onClose]);\n\n  // Реализация закрытия по оверлею\n  const handleOverlayClose = (e) => {\n    if (e.target === e.currentTarget && isOpen) {\n      onClose();\n    }\n    return;\n  };\n\n\n  return (\n    <section\n      onClick={handleOverlayClose}\n      className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={onClose}>\n          </button>\n        <img className=\"popup__image\" src={image} alt={\"Картинка подсказки\"}></img>\n        <p className=\"popup__title popup__title-tooltip\">{tooltip()}</p>\n      </div>\n    </section>\n  )\n}\n\nexport default InfoTooltip;"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC7B;AACA,GACEC,OADF,CAIID,KAJJ,CACEC,MADF,CAEEC,OAFF,CAIIF,KAJJ,CAEEE,OAFF,CAGEC,SAHF,CAIIH,KAJJ,CAGEG,SAHF,CAMA,GAAMC,KAAI,CAAGN,WAAW,GAAGO,QAA3B,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAIF,IAAI,GAAK,UAAT,EAAuBA,IAAI,GAAK,UAApC,CAAgD,CAC9C,MAAOD,UAAS,CACZ,gCADY,CAEZ,0CAFJ,CAGD,CAED,GAAIC,IAAI,GAAK,QAAb,CAAuB,CACrB,MAAOD,UAAS,CACZ,4BADY,CAEZ,sBAFJ,CAGD,CAED,OACD,CAdD,CAgBA,GAAMI,MAAK,CAAGJ,SAAS,CACnBK,OADmB,CAEnBC,IAFJ,CAIA;AACAZ,SAAS,CAAC,UAAM,CACd,GAAI,CAACI,MAAL,CAAa,OACb,GAAMS,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,KAAD,CAAW,CACnC,GAAIA,KAAK,CAACC,GAAN,GAAc,QAAlB,CAA4B,CAC1BV,OAAO,GACR,CACF,CAJD,CAKAW,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCJ,iBAArC,EACA,MAAO,WAAM,CACXG,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCL,iBAAxC,EACD,CAFD,CAGD,CAXQ,CAWN,CAACT,MAAD,CAASC,OAAT,CAXM,CAAT,CAaA;AACA,GAAMc,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,CAAD,CAAO,CAChC,GAAIA,CAAC,CAACC,MAAF,GAAaD,CAAC,CAACE,aAAf,EAAgClB,MAApC,CAA4C,CAC1CC,OAAO,GACR,CACD,OACD,CALD,CAQA,mBACE,gBACE,OAAO,CAAEc,kBADX,CAEE,SAAS,iBAAWf,MAAM,CAAG,cAAH,CAAoB,EAArC,CAFX,uBAGE,aAAK,SAAS,CAAC,kBAAf,wBACE,eACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEC,OAHX,EADF,cAME,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEK,KAAnC,CAA0C,GAAG,CAAE,oBAA/C,EANF,cAOE,UAAG,SAAS,CAAC,mCAAb,UAAkDD,OAAO,EAAzD,EAPF,GAHF,EADF,CAeD,CApED,CAsEA,cAAeP,YAAf"},"metadata":{},"sourceType":"module"}